From ea8d69f6fc7c09985aba09f097da4dc95bc65b5e Mon Sep 17 00:00:00 2001
From: Quentin Inkling <mbee@protonmail.ch>
Date: Mon, 6 Dec 2021 00:08:03 +0300
Subject: [PATCH] Fix UX

---
 Telegram/SourceFiles/window/window_filters_menu.cpp | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/Telegram/SourceFiles/window/window_filters_menu.cpp b/Telegram/SourceFiles/window/window_filters_menu.cpp
index d097a8d5d..f4446aad5 100644
--- a/Telegram/SourceFiles/window/window_filters_menu.cpp
+++ b/Telegram/SourceFiles/window/window_filters_menu.cpp
@@ -198,6 +198,9 @@ void FiltersMenu::refresh() {
 				Ui::ComputeFilterIcon(filter)));
 	}
 	_filters = std::move(now);
+
+	_session->setActiveChatsFilter(filters->list()[0].id());
+
 	_reorder->start();
 
 	_container->resizeToWidth(_outer.width());
@@ -210,12 +213,12 @@ void FiltersMenu::refresh() {
 }
 
 void FiltersMenu::setupList() {
+	_list = _container->add(object_ptr<Ui::VerticalLayout>(_container));
 	_all = prepareButton(
 		_container,
 		0,
 		tr::lng_filters_all(tr::now),
 		Ui::FilterIcon::All);
-	_list = _container->add(object_ptr<Ui::VerticalLayout>(_container));
 	_setup = prepareButton(
 		_container,
 		-1,
-- 
2.34.1

